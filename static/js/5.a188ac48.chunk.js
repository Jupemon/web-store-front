(window["webpackJsonpweb-store-front-manage"]=window["webpackJsonpweb-store-front-manage"]||[]).push([[5],{164:function(e,a,t){},304:function(e,a,t){"use strict";t.r(a);var n=t(7),r=t(8),c=t(11),l=t(9),s=t(10),o=t(0),i=t.n(o),m=t(89),d=t(97),u=(t(164),function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(l.a)(a).call(this))).changeProfile=function(e){var a={};!t.state.changeUsername&&t.state.name.length>0&&(a.name=t.state.name),!t.state.changeEmail&&t.state.email.length>0&&(a.email=t.state.email),!t.state.changePassword&&t.state.password.length>0&&(a.password=t.state.password),console.log(e.id,"USER ID"),console.log(a,"BODY TO BE SENT"),fetch("https://young-bayou-22235.herokuapp.com/".concat(e.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){200===e.status?e.json().then(function(e){console.log(e),t.setState({datachanged:!0})}):403===e.status?alert("email already exists"):400===e.status&&alert("something went wrong")})},t.DeleteAccount=function(){console.log(t.refs.confirmationPassword.value),fetch("https://young-bayou-22235.herokuapp.com/unregister",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.props.account.email,name:t.props.account.name,password:t.refs.confirmationPassword.value})}).then(function(e){return e.json()}).then(function(e){console.log(e,"response here"),"failed to delete user from database"===e?console.log("account doesnt exist"):"Hash doesnt match"===e?alert("incorrect password"):"User deleted from database"===e&&(alert("user deleted"),t.props.logOut())})},t.state={changeAccountDetails:!0,deleteAccount:!1,accountDeleted:!1,changeUsername:!0,changeEmail:!0,changePassword:!0,name:"",email:"",password:""},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"cart-modal"},console.log(this.props.account.name),i.a.createElement("div",{className:"cart-back"},i.a.createElement("div",{className:"cart-title"},i.a.createElement("i",{className:"fas fa-user fa-3x"}),i.a.createElement("h1",{className:"cart-title"},"Your Account"),i.a.createElement(m.a,{variant:"danger",onClick:function(){return e.props.toggleModal("")}},"X")),i.a.createElement("div",{className:"cart-items"},i.a.createElement("div",{style:{margin:"10px"}},this.state.deleteAccount?i.a.createElement("div",{className:"delete-account-box"},i.a.createElement("input",{ref:"confirmationPassword"}),i.a.createElement("p",{className:"confirm-text"},"type password and ",i.a.createElement("a",{onClick:function(){return e.DeleteAccount()}},"Confirm"))):i.a.createElement(m.a,{onClick:function(){e.setState({deleteAccount:!0})}},"Deactivate account"),i.a.createElement(m.a,{variant:"danger",onClick:function(){e.props.logOut()},style:{float:"right"}},"Log out")),i.a.createElement("div",{className:"account-info"},this.state.changeAccountDetails?i.a.createElement("div",null):i.a.createElement("div",null,i.a.createElement("p",null,this.props.account.name),i.a.createElement("hr",null),i.a.createElement("p",null,this.props.account.email))),i.a.createElement("h2",{style:{paddingTop:"25px"}},"Change account details"),i.a.createElement(d.a,null,this.state.changeEmail?i.a.createElement("div",{className:"change-info-button"},i.a.createElement(m.a,{onClick:function(){e.setState({changeEmail:!e.state.changeEmail})}},"Change Email")):i.a.createElement("div",null,i.a.createElement(d.a.Label,null,"New Email"),i.a.createElement(d.a.Control,{type:"text",placeholder:this.props.account.name,onChange:function(a){e.setState({email:a.currentTarget.value})}})),this.state.changeUsername?i.a.createElement("div",{className:"change-info-button"},i.a.createElement(m.a,{onClick:function(){e.setState({changeUsername:!e.state.changeUsername})}},"Change Username")):i.a.createElement("div",null,i.a.createElement(d.a.Label,null,"New Username"),i.a.createElement(d.a.Control,{type:"text",placeholder:this.props.account.name,onChange:function(a){e.setState({name:a.currentTarget.value})}})),i.a.createElement(m.a,{variant:"danger",onClick:function(){e.changeProfile(e.props.account)}},"Save Changes")))))}}]),a}(o.Component));a.default=u},83:function(e,a,t){"use strict";var n=function(){};e.exports=n},89:function(e,a,t){"use strict";var n=t(1),r=t(2),c=t(3),l=t.n(c),s=t(0),o=t.n(s),i=t(4),m=t(29),d=o.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.variant,s=e.size,d=e.active,u=e.className,f=e.block,p=e.type,b=e.as,v=Object(r.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),h=Object(i.a)(t,"btn"),E=l()(u,h,d&&"active",h+"-"+c,f&&h+"-block",s&&h+"-"+s);if(v.href)return o.a.createElement(m.a,Object(n.a)({},v,{as:b,ref:a,className:l()(E,v.disabled&&"disabled")}));a&&(v.ref=a),b||(v.type=p);var g=b||"button";return o.a.createElement(g,Object(n.a)({},v,{className:E}))});d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"},a.a=d},97:function(e,a,t){"use strict";var n=t(1),r=t(2),c=t(3),l=t.n(c),s=t(0),o=t.n(s),i=t(5),m=t(4),d=o.a.createContext({controlId:void 0}),u=o.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.className,i=e.children,u=e.controlId,f=e.as,p=void 0===f?"div":f,b=Object(r.a)(e,["bsPrefix","className","children","controlId","as"]);t=Object(m.a)(t,"form-group");var v=Object(s.useMemo)(function(){return{controlId:u}},[u]);return o.a.createElement(d.Provider,{value:v},o.a.createElement(p,Object(n.a)({},b,{ref:a,className:l()(c,t)}),i))});u.displayName="FormGroup";var f=u,p=(t(83),t(18)),b=t.n(p),v={type:b.a.string.isRequired,as:b.a.elementType},h=o.a.forwardRef(function(e,a){var t=e.as,c=void 0===t?"div":t,s=e.className,i=e.type,m=Object(r.a)(e,["as","className","type"]);return o.a.createElement(c,Object(n.a)({},m,{ref:a,className:l()(s,i&&i+"-feedback")}))});h.displayName="Feedback",h.propTypes=v,h.defaultProps={type:"valid"};var E=h,g=o.a.forwardRef(function(e,a){var t,c,i=e.bsPrefix,u=e.type,f=e.size,p=e.id,b=e.className,v=e.isValid,h=e.isInvalid,E=e.plaintext,g=e.readOnly,y=e.as,N=void 0===y?"input":y,O=Object(r.a)(e,["bsPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","as"]),j=Object(s.useContext)(d).controlId;if(i=Object(m.a)(i,"form-control"),E)(c={})[i+"-plaintext"]=!0,t=c;else if("file"===u){var x;(x={})[i+"-file"]=!0,t=x}else{var w;(w={})[i]=!0,w[i+"-"+f]=f,t=w}return o.a.createElement(N,Object(n.a)({},O,{type:u,ref:a,readOnly:g,id:p||j,className:l()(b,t,v&&"is-valid",h&&"is-invalid")}))});g.displayName="FormControl",g.Feedback=E;var y=g,N=o.a.forwardRef(function(e,a){var t=e.id,c=e.bsPrefix,i=e.className,u=e.isValid,f=e.isInvalid,p=e.isStatic,b=Object(r.a)(e,["id","bsPrefix","className","isValid","isInvalid","isStatic"]);c=Object(m.a)(c,"form-check-input");var v=Object(s.useContext)(d),h=v.controlId,E=v.custom;return o.a.createElement("input",Object(n.a)({},b,{ref:a,id:t||h,className:l()(i,!E&&c,E&&"custom-control-input",u&&"is-valid",f&&"is-invalid",p&&"position-static")}))});N.displayName="FormCheckInput",N.defaultProps={type:"checkbox"};var O=N,j=o.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.className,i=e.htmlFor,u=Object(r.a)(e,["bsPrefix","className","htmlFor"]);t=Object(m.a)(t,"form-check-label");var f=Object(s.useContext)(d),p=f.controlId,b=f.custom;return o.a.createElement("label",Object(n.a)({},u,{ref:a,htmlFor:i||p,className:l()(c,!b&&t,b&&"custom-control-label")}))});j.displayName="FormCheckLabel",j.defaultProps={type:"checkbox"};var x=j,w=o.a.forwardRef(function(e,a){var t=e.id,c=e.bsPrefix,i=e.inline,u=e.disabled,f=e.isValid,p=e.isInvalid,b=e.feedback,v=e.className,h=e.style,g=e.title,y=e.type,N=e.label,j=e.children,w=e.custom,P=Object(r.a)(e,["id","bsPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom"]);c=Object(m.a)(c,"form-check");var k=Object(s.useContext)(d).controlId,C=Object(s.useMemo)(function(){return{controlId:t||k,custom:w}},[k,w,t]),I=null!=N&&!1!==N&&!j,F=o.a.createElement(O,Object(n.a)({},P,{type:y,ref:a,isValid:f,isInvalid:p,isStatic:!I,disabled:u}));return o.a.createElement(d.Provider,{value:C},o.a.createElement("div",{style:h,className:l()(v,!w&&c,w&&"custom-control custom-"+y,i&&(w?"custom-control":c)+"-inline")},j||o.a.createElement(o.a.Fragment,null,F,I&&o.a.createElement(x,{title:g},N),(f||p)&&o.a.createElement(E,{type:f?"valid":"invalid"},b))))});w.displayName="FormCheck",w.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},w.Input=O,w.Label=x;var P=w,k=t(76),C=o.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.column,i=e.srOnly,u=e.className,f=e.htmlFor,p=Object(r.a)(e,["bsPrefix","column","srOnly","className","htmlFor"]),b=Object(s.useContext)(d).controlId;t=Object(m.a)(t,"form-label");var v=l()(u,t,i&&"sr-only",c&&"col-form-label");return f=f||b,c?o.a.createElement(k.a,Object(n.a)({as:"label",className:v,htmlFor:f},p)):o.a.createElement("label",Object(n.a)({ref:a,className:v,htmlFor:f},p))});C.displayName="FormLabel",C.defaultProps={column:!1,srOnly:!1};var I=C,F=o.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.className,s=e.as,i=void 0===s?"small":s,d=e.muted,u=Object(r.a)(e,["bsPrefix","className","as","muted"]);return t=Object(m.a)(t,"form-text"),o.a.createElement(i,Object(n.a)({},u,{ref:a,className:l()(c,t,d&&"text-muted")}))});F.displayName="FormText";var S=F,R=o.a.forwardRef(function(e,a){var t=e.bsPrefix,c=e.inline,s=e.className,i=e.validated,d=e.as,u=void 0===d?"form":d,f=Object(r.a)(e,["bsPrefix","inline","className","validated","as"]);return t=Object(m.a)(t,"form"),o.a.createElement(u,Object(n.a)({},f,{ref:a,className:l()(s,i&&"was-validated",c&&t+"-inline")}))});R.displayName="Form",R.defaultProps={inline:!1},R.Row=Object(i.a)("form-row"),R.Group=f,R.Control=y,R.Check=P,R.Label=I,R.Text=S;a.a=R}}]);
//# sourceMappingURL=5.a188ac48.chunk.js.map